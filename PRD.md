PRD.md

專案名稱：旅費隨記 (Pocket Trip)

⸻

1. 專案背景

旅遊時在國外購物，常因匯率換算、稅率計算或分批購物而導致預算控制困難。本專案旨在提供一個簡單直覺的網頁工具，幫助旅人即時換算匯率、管理購物車與直接記帳、控制預算，並提供超支提醒。

⸻

2. 目標使用者
	•	出國旅遊時需要控制預算的旅人
	•	喜歡記錄每筆消費並掌握餘額
	•	希望快速計算匯率及稅率的使用者
	•	需要分門別類記帳的人

⸻

3. 功能規劃

功能	說明	必要 / 加分
旅程資訊輸入	起始/結束日期、地點、總預算	必要
匯率設定	預設匯率來源（API 或手動）商品清單可個別覆蓋匯率	必要
購物模式選擇	購物車模式或直接記帳模式	必要
商品新增	購物車模式：按加號新增商品；直接記帳模式：選擇類別，每個類別有小 icon	必要
稅率計算	根據地點自動帶出稅率，或手動修改	必要
台幣換算	計算含稅價格，並顯示累計台幣金額	必要
預算餘額顯示	計算剩餘預算，超支時提醒	必要
超支提醒	紅字或彈窗提示	必要
儲存功能	localStorage 保存商品清單與旅程資訊	加分
PWA / 手機主畫面圖示	可加主畫面快速打開	加分
匯率 API	自動抓取當地即時匯率	加分
部署	Zeabur 雲端部署	加分


⸻

4. 使用者流程 (User Flow)
	1.	使用者打開網頁 → 輸入旅程資訊（日期、地點、總預算）
	2.	選擇預設匯率來源（API 或手動）
	3.	選擇購物模式：
        •	購物車模式：
            1.	點擊加號新增商品
            2.	輸入商品名稱、外幣價格、數量
            3.	稅率自動帶出（可手動修改）
            4.	可針對單品覆蓋匯率
            5.	點擊「確認購買」後累計計算台幣金額與預算餘額
        •	直接記帳模式：
            1.	選擇類別（每個類別有小 icon）
            2.	輸入價格
            3.	選擇匯率來源（API 或手動）
            4.	稅率自動帶出（可手動修改）
            5.	即時計入台幣金額與預算餘額
	4.	系統計算：
        •	商品台幣金額 = 外幣價格 × 匯率 × (1 + 稅率)
        •	顯示剩餘預算
        •	若超支，跳出紅字或彈窗提醒
	5.	使用者可隨時新增、刪除商品或修改價格，餘額即時更新

⸻

5. UI/UX 設計

主畫面布局

---------------------------------------
| 旅程資訊區 (日期/地點/總預算)       |
| 預設匯率設定區 (API/手動)           |
---------------------------------------
| 購物模式選擇 (購物車 / 直接記帳)   |
---------------------------------------
| 購物車 / 記帳區                      |
| - 購物車模式：商品列表表格 + 加號新增 |
| - 直接記帳模式：選類別 + 小 icon + 輸入金額 |
| - 每項商品可修改匯率及稅率           |
---------------------------------------
| 預算餘額顯示 (剩餘 / 已花費)        |
| 超支提示區 (紅字 / 彈窗)            |
---------------------------------------
| 確認購買按鈕                        |
---------------------------------------

設計原則
	•	直覺操作：加號、新增商品、選類別、修改匯率/稅率都一眼看懂
	•	色彩提示：餘額 > 0 → 綠色，餘額 ≤ 0 → 紅色
	•	響應式設計：桌機 / 手機皆可操作
	•	圖示輔助：記帳模式每個類別有小 icon 提升辨識度
	•	操作順序明確：先旅程資訊 → 再新增商品或記帳 → 最後確認購買

⸻

6. HTML/CSS/JS 開發重點

HTML
	•	<input> 用於旅程資訊、匯率、商品價格
	•	<select> 用於幣別、購物模式、直接記帳類別選擇
	•	<table> 顯示購物車商品清單與台幣金額
	•	<button> 用於加號、新增商品、確認購買、取得 API 匯率
	•	<img> 用於類別小 icon

CSS
	•	使用 Flexbox / Grid 來排版
	•	色彩區分：綠色 → 正常餘額，紅色 → 超支警告
	•	響應式：@media 調整手機版表格與按鈕大小
	•	按鈕 hover 效果
	•	表格條列交替底色

JS
	•	計算台幣金額：台幣 = 外幣價格 * 匯率 * (1 + 稅率)
	•	購物車管理：array 儲存商品清單
	•	按「＋」新增商品
	•	增加 / 刪除商品時即時更新 table 與餘額
	•	直接記帳模式：每筆輸入依類別累計
	•	可修改匯率 / 稅率
	•	預算餘額計算：剩餘預算 = 總預算 - 已花費
	•	超支提示：若剩餘預算 ≤ 0 → 顯示紅字或 alert
	•	API 取得即時匯率：fetch() → JSON → 更新預設匯率，商品清單可覆蓋
	•	地點稅率自動帶出：依旅遊地點帶出默認稅率（可手動修改）
	•	localStorage：保存商品清單與旅程資訊，刷新網頁不消失

⸻

7. 技術堆疊
	•	HTML5 / CSS3 / Vanilla JS
	•	匯率 API：ExchangeRate API 或其他免費匯率 API
	•	Zeabur 部署，提供雲端即時使用
	•	PWA 支援，手機主畫面可快速打開
	•	可選：Bootstrap / Tailwind CSS 做快速樣式
⸻

8. 開發里程碑
	1.	旅程資訊輸入 + 預算顯示
	2.	購物模式選擇 + 商品新增（加號 / 類別 + icon）
	3.	台幣換算 + 稅率計算（地點自動帶出）
	4.	超支提示
	5.	匯率 API 整合，商品可覆蓋匯率
	6.	儲存功能 / localStorage
	7.	響應式設計 + PWA 支援
	8.	UI 美化 / Zeabur 部署
